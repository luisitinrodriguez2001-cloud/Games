<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#0f1221" />
    <title>Word Association â€” Smooth & Smart</title>
    <link rel="stylesheet" href="styles.css" />
    <meta
      name="description"
      content="A smooth, mobile-friendly word association game that uses free public APIs (Datamuse, ConceptNet, Free Dictionary) and a built-in list of common words."
    />
    <link rel="preconnect" href="https://api.datamuse.com" />
    <link rel="preconnect" href="https://api.conceptnet.io" />
    <link rel="preconnect" href="https://api.dictionaryapi.dev" />
  </head>
  <body>
    <header class="app-header">
      <h1>Word Association <span class="emoji">ğŸ§ âœ¨</span></h1>
      <nav class="mode-tabs" role="tablist" aria-label="Game modes">
        <button
          class="tab active"
          data-mode="arcade"
          role="tab"
          aria-selected="true"
        >
          Arcade
        </button>
        <button class="tab" data-mode="timed" role="tab" aria-selected="false">
          Timed â±ï¸
        </button>
        <button class="tab" data-mode="daily" role="tab" aria-selected="false">
          Daily ğŸ“…
        </button>
        <button id="settingsBtn" class="ghost">Settings âš™ï¸</button>
      </nav>
    </header>

    <main class="layout">
      <section class="panel left">
        <div class="card">
          <div class="row spread">
            <h2 id="roundTitle">New Round</h2>
            <div class="tiny muted" id="targetMeta"></div>
          </div>
          <div class="temperature">
            <div class="thermo-label">Closeness</div>
            <div class="thermo-bar">
              <div id="thermoFill" class="thermo-fill" style="width: 0%"></div>
            </div>
            <div id="thermoText" class="thermo-text">â€”</div>
          </div>

          <div class="input-row">
            <input
              id="guessInput"
              type="text"
              placeholder="Type a word and press Enterâ€¦"
              autocomplete="off"
              aria-label="Enter your guess"
            />
            <button id="guessBtn" class="primary">Guess</button>
          </div>

          <div class="row wrap gap">
            <button id="hintBtn" class="secondary">Hint ğŸ”</button>
            <button id="revealBtn" class="ghost">Reveal ğŸ™ˆ</button>
            <button id="newRoundBtn" class="ghost">New Round ğŸ”</button>
            <button id="shareBtn" class="ghost">Share ğŸ“¤</button>
            <button id="downloadBtn" class="ghost">Download CSV â¬‡ï¸</button>
          </div>

          <div id="status" class="status"></div>

          <div class="guess-list" id="guessList" aria-live="polite"></div>
        </div>

        <div class="card">
          <h3>Clues</h3>
          <div id="clues" class="chips"></div>
          <div class="muted tiny">
            Clues are top associations for the secret word from Datamuse; each
            hint costs points.
          </div>
        </div>
      </section>

      <section class="panel right">
        <div class="card">
          <h3>Round Info</h3>
          <ul class="meta">
            <li>Mode: <span id="modeMeta">Arcade</span></li>
            <li>Timer: <span id="timerMeta">â€”</span></li>
            <li>Guesses: <span id="guessesMeta">0</span></li>
            <li>Hints used: <span id="hintsMeta">0</span></li>
            <li>Score: <span id="scoreMeta">0</span></li>
            <li>Target part of speech: <span id="posMeta">â€”</span></li>
          </ul>
        </div>

        <div class="card">
          <h3>Definition</h3>
          <div id="definition" class="definition">â€”</div>
        </div>

        <div class="card">
          <h3>Stats</h3>
          <ul class="meta">
            <li>Games played: <span id="gamesPlayed">0</span></li>
            <li>Win rate: <span id="winRate">0%</span></li>
            <li>Current streak (Daily): <span id="dailyStreak">0</span></li>
            <li>Best time: <span id="bestTime">â€”</span></li>
            <li>Average guesses: <span id="avgGuesses">â€”</span></li>
          </ul>
        </div>

        <div class="card">
          <h3>API Diagnostics</h3>
          <div id="apiDiag" class="tiny mono"></div>
        </div>
      </section>
    </main>

    <dialog id="settingsDialog">
      <form method="dialog" class="settings">
        <h3>Settings</h3>
        <label
          ><input type="checkbox" id="toggleConceptNet" checked /> Use
          ConceptNet for closeness</label
        >
        <label
          ><input type="checkbox" id="toggleDictionary" checked /> Show
          definitions from Free Dictionary</label
        >
        <label
          ><input type="checkbox" id="toggleDatamuse" checked /> Use Datamuse
          for clues</label
        >
        <label
          ><input type="checkbox" id="toggleRandomWord" checked /> Use common
          word list to pick targets</label
        >
        <label
          ><input type="checkbox" id="toggleStrictValidation" /> Strict guess
          validation (must be a real word)</label
        >
        <label
          ><input type="checkbox" id="toggleColorBlind" /> Color-blind friendly
          palette</label
        >
        <menu>
          <button value="cancel" class="ghost">Close</button>
          <button id="resetStatsBtn" class="secondary">Reset Stats</button>
        </menu>
      </form>
    </dialog>

    <footer class="app-footer">
      <div class="tiny">
        Data from
        <a href="https://www.datamuse.com/api/" target="_blank" rel="noopener"
          >Datamuse</a
        >
        â€¢
        <a href="https://dictionaryapi.dev/" target="_blank" rel="noopener"
          >Free Dictionary API</a
        >
        â€¢
        <a href="https://conceptnet.io/" target="_blank" rel="noopener"
          >ConceptNet</a
        >
      </div>
    </footer>

    <script src="app.js" defer></script>
  </body>
</html>
